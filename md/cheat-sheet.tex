\documentclass[10pt]{extarticle}

\usepackage{minted}
\usepackage{hyperref}
%\setmintedinline{xrightmargin=-0.5in,xleftmargin=-0.5in}
\RecustomVerbatimEnvironment{Verbatim}{BVerbatim}{}

\usepackage[landscape,a4paper,left=0.15in, right=0.25in, top=0.5in, bottom=0.75in]{geometry}
\usepackage{multicol}
\setlength{\parindent}{0pt}

\usepackage{titlesec}
%    spacing: how to read {12pt plus 4pt minus 2pt}
%           12pt is what we would like the spacing to be
%           plus 4pt means that TeX can stretch it by at most 4pt
%           minus 2pt means that TeX can shrink it by at most 2pt
%          This is one example of the concept of, 'glue', in TeX
\titlespacing\section{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsection{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsubsection{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}

\begin{document}
\pagenumbering{gobble}

\begin{multicols}{3}
\section*{Python Cheat Sheet}

%\subsection*{Running Python}
%\begin{tabular}{ll}
%python & standard interactive shell \\
%ipython& improved interactive shell \\
%ipython notebook & jupyter notebook \\
%\end{tabular}

\subsection*{Getting Help}
\begin{tabular}{p{0.3\linewidth}l}
\mint{python}{help(object)} & help for object \\
\mint{python}{object}?  & iPython: help for object \\
\mint{python}{dir(object)} & display members of object \\
\end{tabular}

\subsection*{Import Syntax}
\begin{tabular}{p{0.45\linewidth}l}
\mint{python}{import numpy } & use: numpy.pi \\
\mint{python}{import numpy as np} & use np.pi \\
\mint{python}{from numpy import pi}  & use: pi \\
\end{tabular}

\subsection*{Types}
\begin{tabular}{p{0.55\linewidth}l}
\mint{python}{ i = 1 } &integer   \\
\mint{python}{ f  = 1.0 } &float  \\
\mint{python}{ True/False } &boolean  \\
\mint{python}{ l = [3,2,1] } & list    \\
\mint{python}{ d = {'three':3, 'two':2} } & dictionary    \\
\mint{python}{ i = int(f) } &integer conversion \\
\mint{python}{ f = float(i) } & float conversion \\
\end{tabular}


\subsection*{Operators}
\begin{tabular}{p{0.1\linewidth}lp{0.1\linewidth}l}
\multicolumn{2}{c}{{\bf mathematics}} & \multicolumn{2}{c}{{\bf comparison}} \\
\mint{python}{+} & addition         & \mint{python}{=}   & assign \\
\mint{python}{-}  & subtraction    & \mint{python}{==} & equal \\
\mint{python}{*}  & multiplication & \mint{python}{!=}  & not equal \\
\mint{python}{/}  & division          & \mint{python}{<}   & less  \\
\mint{python}{**} & power           & \mint{python}{<=} & less-equal \\
\mint{python}{%} & modulo         & \mint{python}{>=} & greater-equal \\
                           &                      & \mint{python}{>}   & greater \\
\end{tabular}

\subsection*{Basic Syntax}
 \begin{tabular}{p{0.65\linewidth}l}
\mint{python}{def bar(args): ...} & function definition \\
\mint{python}{if c: .. elif c: ... else: } & conditionals \\
\mint{python}{try: ... except: ... } & error handling \\
\mint{python}{try: ... except Error as e:  } & error handling \\
\mint{python}{while condition: ...} & while loop \\
\mint{python}{for item in list: ...} & for loops \\
\mint{python}{for index, item in enumerate(list): ...} & \\
\mint{python}{for a,b in zip(listA, listB): ...} & \\
\end{tabular}

\subsection*{NumPy}
The following assumes that NumPy has been imported using \mint{python}{import numpy as np}.

\subsubsection*{Maths}
\begin{tabular}{p{0.45\linewidth}l}
\mint{python}{np.abs(f)}  & absolute value of f  \\
\mint{python}{np.floor(f)} & round f downwards  \\
\mint{python}{np.ceil(f)}  & round f upwards  \\
\mint{python}{np.sqrt(f)}  & square root of f \\
\mint{python}{np.sin(f)}  & sinus of f (in radians) \\
\mint{python}{np.cos, np.tan, ...} & similar \\
\mint{python}{np.arctan2(y,x)} & arctangent of point (x, y) \\
\end{tabular}

\subsubsection*{Defining arrays}
\begin{tabular}{p{0.5\linewidth}l}
\mint{python}{l = [1,2,3,4]} & basic list \\
\mint{python}{np.array([1,2,3,4])} & 1D array \\
\mint{python}{np.array([[1,2],[3,4]])} & 2D array \\
\mint{python}{np.arange(min,max,step)} & integer list: min to max \\
\mint{python}{np.linspace(min,max,num)} & num samples: min to max \\
\mint{python}{np.zeros((2,3))} & array of zeros, shape (2,3) \\
\mint{python}{np.ones((2,3))} & array of ones, likewise \\
\end{tabular}

\subsubsection*{Slicing}
\begin{tabular}{p{0.45\linewidth}l}
\mint{python}{l[row][col]} & list: basic access \\
\mint{python}{l[min:max:step]} & list: slicing \\
\mint{python}{arr[row][col]} & array: basic access 1\\
\mint{python}{a[row,col]} & array: basic access 2\\ 
\mint{python}{arr[min:max,min:max]} & array: slicing \\
\mint{python}{arr[list]} &  select indices in list \\
\mint{python}{arr[mask]} & select where mask=True \\
\end{tabular}

\subsubsection*{Array properties}
\begin{tabular}{p{0.5\linewidth}l}
\mint{python}{len(l)} & length of first dimension \\
\mint{python}{arr.size} & total number of entries \\
\mint{python}{arr.ndim} &  number of dimensions \\
\mint{python}{arr.shape} & shape off arr \\
\mint{python}{arr.reshape((N,M))} & reshape array to (N,M) \\
\end{tabular}

\subsubsection*{Linear Algebra}
\begin{tabular}{p{0.32\linewidth}l}
\mint{python}{a1*a2} & element-wise product (a1[0]*a2[0], ...) \\
\mint{python}{np.dot(a1,a2)} & vector dot product \\
\mint{python}{np.dot(a1,a2)} & matrix mult (if both 2D) \\
\mint{python}{np.cross(a1,a2)} & cross product \\
\mint{python}{np.linalg.inv(a)} & inverse of a \\
\mint{python}{np.linalg.det(a)} & determinant of a \\
\mint{python}{a.T} & transpose of a \\
\end{tabular}

\subsubsection*{Array statistics}
\begin{tabular}{p{0.4\linewidth}l}
\mint{python}{arr.sum(axis=i)} & sum of array elements along axis i \\
\mint{python}{arr.sum(axis=i)} & mean of array elements along axis i \\
\mint{python}{arr.std(axis=i)} & std. deviation along axis i \\
\mint{python}{arr.min(axis=i)} & min value along axis i \\
\mint{python}{arr.max(axis=i)} & max value along axis i \\
\mint{python}{arr.argmax} & index of maximum value \\
\mint{python}{arr.argmin} & index of minimum value \\
\end{tabular}

\subsubsection*{Miscellany}
\begin{tabular}{p{0.4\linewidth}l}
\mint{python}{np.loadtxt(file)} & read values from file \\
\mint{python}{np.genfromtxt(file)} & more flexible version \\
\mint{python}{np.any(arr)} & True if any of arr is True \\
\mint{python}{np.all(arr)} & True if all of arr is True \\
\mint{python}{np.random.normal()} & Gaussian random numbers \\
\mint{python}{np.random.uniform()} & Uniform random numbers \\
\end{tabular}

\subsection*{OS}
Interaction with the operating system can be acheived using \mint{python}{import os}
and \mint{python}{import shutil}

\begin{tabular}{p{0.42\linewidth}l}
\mint{python}{os.mkdir(name)} & make directory `name` \\
\mint{python}{os.unlink(file)} & delete file `name` \\
\mint{python}{os.listdir(path)} & list all files in path \\
\mint{python}{os.rename(old,new)} & rename file/dir old to new \\
\mint{python}{os.path.exists(file)} & check if file/dir exists \\
\mint{python}{os.path.join(dir,file)} & join path and filename \\
\mint{python}{shutil.copy(src,dst)} & copy src to dst \\
\end{tabular}


\newpage
\subsection*{Plotting}
\mint{python}{from matplotlib import pyplot as plt}.


\subsubsection*{Plot Types}
\begin{tabular}{p{0.44\linewidth}l}
\mint{python}{fig,ax=plt.subplots} & create fig and axis \\
\mint{python}{ax.plot(x,y,'ro')} & plot x vs y with red points \\
\mint{python}{ax.plot(x,y,'k-')} & plot x vs y with black line \\
\mint{python}{ax.hist(vals,n_bins)} & histogram of vals \\
\mint{python}{ax.errorbar(x,y,yerr=e)} & like plot, with error bars \\
\mint{python}{ax.set_yscale('log')} & put y(x)-axis on log scale \\
\mint{python}{ax.set_title()} & set plot title \\
\mint{python}{ax.set_ylabel()} & set y(x) axis labels \\
\mint{python}{ax.set_ylim(min,max)} & set y(x) scale \\
\end{tabular}

\subsection*{File IO}
\begin{tabular}{p{0.4\linewidth}l}
\mint{python}{f = open(name)} & open name: read-only \\
\mint{python}{f = open(name,'w')} & open name: writing \\
\mint{python}{f = open(name,'a')} & open name: append \\
\mint{python}{f.read()} & read file into one string \\
\mint{python}{f.readlines()} & read lines into list of strings \\
\mint{python}{f.write(s)} & write string s to file \\
\end{tabular}

\subsection*{String Methods}
\begin{tabular}{p{0.4\linewidth}l}
\mint{python}{s.isdigit()} & True if s is all digit chars \\
\mint{python}{s.lower()} & lower case copy of s \\
\mint{python}{s.upper()} & upper case copy of s \\
\mint{python}{s.lstrip()} & strip leading whitespace \\
\mint{python}{s.lstrip()} & strip leading whitespace \\
\mint{python}{s.rstrip()} & strip trailing whitespace \\
\mint{python}{s.split(char)} & split string at char \\
\mint{python}{s.endswith(s)} & ends with s? \\
\mint{python}{s.replace(old,new)} & swap old for new \\
\end{tabular}

\subsection*{List Methods}
\begin{tabular}{p{0.4\linewidth}l}
\mint{python}{l.append(item)} & add item to list \\
\mint{python}{l.count(item)} & how often is item is l? \\
\mint{python}{l.index(item)} & loc of item in l \\
\mint{python}{l.insert(pos,item)} & insert item at pos \\
\mint{python}{l.remove(item)} & remove item from l \\
\mint{python}{l.reverse()} & reverse l \\
\mint{python}{l.sort()} & sort l  \\
\end{tabular}

\subsection*{Times and Dates}
Astropy has a very useful library for dealing with times and dates. Examples here assume that this library has been imported with \mint{python}{from astropy.time import Time} and \mint{python}{from astropy.time import TimeDelta}.

A string can be converted to a \mint{python}{Time} object using the following syntax examples:\\
\mint{python}{t=Time('2015-10-22 12:15:22')} \\
\mint{python}{t=Time('2015-10-22 12:15')} \\
\mint{python}{t=Time('2015-10-22')}

\mint{python}{TimeDelta} objects store the difference between two times. They can be created using the following syntax:\\
\mint{python}{dt = TimeDelta(3,format='sec')} - 3 seconds\\
\mint{python}{dt = TimeDelta(3,format='jd')} - 3 days

Astropy is quite clever at interpreting different formats of time strings. For full docs see \url{http://astropy.readthedocs.org/en/latest/time/}.

\hspace*{0.3cm}

\begin{tabular}{p{0.25\linewidth}l}
\mint{python}{t=Time.now()} & get current time and store in t \\
\mint{python}{t.iso} & get a Y-M-D H:M:S string from t \\
\mint{python}{t.mjd} & convert t to modified Julian date  \\
\mint{python}{dt = t1-t2} & get time between t1 and t2 \\
\mint{python}{t = t + dt} & add TimeDelta and Time \\
\end{tabular}


\subsection*{String Formatting}
String formatting follows the general pattern \mint{python}{``{} {}''.format(arg1, arg2)} to
replace the curly braces with the values supplied in the arguments.

\vspace*{0.3cm}
The exact appearance of the text that replaces the curly braces can be controlled by 
format characters. The format characters are preceded by a colon within the curly braces. To run the  examples below use 

\mint{python}{print(``FORMAT''.format(NUMBER))}. 

So to get the output of the first example, you would run: \mint{python}{print(``{:.2f}''.format(3.1415926))}.

\hspace*{0.3cm}

\begin{tabular}{lllr}
{\bf Number} & {\bf Format} & {\bf Output} & {\bf Description} \\
3.1415926 & \{:.2f\} & 3.14 & 2 d.p \\
3.1415926 & \{:+.2f\} & 3.14 & 2 d.p with sign \\
-1 & \{:+.2f\} & -1.00 & 2 d.p with sign \\
5 & \{:05d\} & 00005 & 5 digits, pad with 0s \\
5 & \{:5d\} & \,\,\,\,\,\,\,\,5 & right aligned, width 10 \\
10000 & \{:,\} & 10,000 & comma seperator \\
1000000 & \{:.2e\} & 1.00e+06 & sci. notation \\
\end{tabular}



\end{multicols}
\end{document}







